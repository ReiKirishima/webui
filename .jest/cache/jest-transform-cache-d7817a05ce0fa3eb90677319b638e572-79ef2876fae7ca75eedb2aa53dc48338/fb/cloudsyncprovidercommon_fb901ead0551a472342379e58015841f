c7c836f1a0b3b967de739ff53676d3f1
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.tokenOnlyProviders = exports.cloudsyncProviderFormMap = void 0;
exports.getProviderFormClass = getProviderFormClass;
exports.getName = getName;
const cloudsync_provider_enum_1 = require("app/enums/cloudsync-provider.enum");
const azure_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/azure-provider-form/azure-provider-form.component");
const backblaze_b2_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/backblaze-b2-provider-form/backblaze-b2-provider-form.component");
const ftp_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/ftp-provider-form/ftp-provider-form.component");
const google_cloud_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/google-cloud-provider-form/google-cloud-provider-form.component");
const google_drive_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/google-drive-provider-form/google-drive-provider-form.component");
const google_photos_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/google-photos-provider-form/google-photos-provider-form.component");
const http_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/http-provider-form/http-provider-form.component");
const mega_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/mega-provider-form/mega-provider-form.component");
const openstack_swift_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/openstack-swift-provider-form/openstack-swift-provider-form.component");
const pcloud_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/pcloud-provider-form/pcloud-provider-form.component");
const s3_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/s3-provider-form/s3-provider-form.component");
const sftp_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/sftp-provider-form/sftp-provider-form.component");
const storj_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/storj-provider-form/storj-provider-form.component");
const token_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/token-provider-form/token-provider-form.component");
const webdav_provider_form_component_1 = require("app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/webdav-provider-form/webdav-provider-form.component");
exports.cloudsyncProviderFormMap = new Map([
    [cloudsync_provider_enum_1.CloudSyncProviderName.MicrosoftAzure, azure_provider_form_component_1.AzureProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.BackblazeB2, backblaze_b2_provider_form_component_1.BackblazeB2ProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.Ftp, ftp_provider_form_component_1.FtpProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.GoogleCloudStorage, google_cloud_provider_form_component_1.GoogleCloudProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.GoogleDrive, google_drive_provider_form_component_1.GoogleDriveProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.GooglePhotos, google_photos_provider_form_component_1.GooglePhotosProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.Http, http_provider_form_component_1.HttpProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.Mega, mega_provider_form_component_1.MegaProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.OpenstackSwift, openstack_swift_provider_form_component_1.OpenstackSwiftProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.Pcloud, pcloud_provider_form_component_1.PcloudProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.AmazonS3, s3_provider_form_component_1.S3ProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.Sftp, sftp_provider_form_component_1.SftpProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.Storj, storj_provider_form_component_1.StorjProviderFormComponent],
    [cloudsync_provider_enum_1.CloudSyncProviderName.Webdav, webdav_provider_form_component_1.WebdavProviderFormComponent],
]);
exports.tokenOnlyProviders = [
    cloudsync_provider_enum_1.CloudSyncProviderName.Box,
    cloudsync_provider_enum_1.CloudSyncProviderName.Dropbox,
    cloudsync_provider_enum_1.CloudSyncProviderName.Hubic,
    cloudsync_provider_enum_1.CloudSyncProviderName.Yandex,
];
function getProviderFormClass(providerName) {
    if (exports.tokenOnlyProviders.includes(providerName)) {
        return token_provider_form_component_1.TokenProviderFormComponent;
    }
    return exports.cloudsyncProviderFormMap.get(providerName);
}
// Will return "(1)" from "Google Photos (1)"
const incrementRegex = /\s\((\d+)\)$/;
// Will return "1" from "(1)"
const incrementInt = /\d+(?=\)$)/;
/**
 * Get an incremented name (e.g. Google Photos (2)) from a name (e.g. Google Photos),
 * based on an array of existing names.
 *
 * @param name The name to increment.
 * @param others The array of existing names.
 */
function getName(name, others) {
    var _a;
    const set = new Set(others);
    let result = name;
    while (set.has(result)) {
        result = ((_a = incrementRegex.exec(result)) === null || _a === void 0 ? void 0 : _a[1])
            ? result.replace(incrementInt, (value) => (+value + 1).toString())
            : `${result} (2)`;
    }
    return result;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL21hY2Jvb2sva2FycG92LXdvcmsvVHJ1ZU5BUy93ZWJ1aS9zcmMvYXBwL3BhZ2VzL2RhdGEtcHJvdGVjdGlvbi9jbG91ZHN5bmMvY2xvdWRzeW5jLXdpemFyZC9zdGVwcy9jbG91ZHN5bmMtcHJvdmlkZXIvY2xvdWRzeW5jLXByb3ZpZGVyLmNvbW1vbi50cyIsIm1hcHBpbmdzIjoiOzs7QUEyQ0Esb0RBTUM7QUFlRCwwQkFZQztBQTNFRCwrRUFBMEU7QUFDMUUsb0xBQThLO0FBQzlLLHlNQUFrTTtBQUVsTSw4S0FBd0s7QUFDeEsseU1BQWtNO0FBQ2xNLHlNQUFrTTtBQUNsTSw0TUFBcU07QUFDck0saUxBQTJLO0FBQzNLLGlMQUEySztBQUMzSyxrTkFBMk07QUFDM00sdUxBQWlMO0FBQ2pMLDJLQUFxSztBQUNySyxpTEFBMks7QUFDM0ssb0xBQThLO0FBQzlLLG9MQUE4SztBQUM5Syx1TEFBaUw7QUFFcEssUUFBQSx3QkFBd0IsR0FBRyxJQUFJLEdBQUcsQ0FBeUQ7SUFDdEcsQ0FBQywrQ0FBcUIsQ0FBQyxjQUFjLEVBQUUsMERBQTBCLENBQUM7SUFDbEUsQ0FBQywrQ0FBcUIsQ0FBQyxXQUFXLEVBQUUsdUVBQWdDLENBQUM7SUFDckUsQ0FBQywrQ0FBcUIsQ0FBQyxHQUFHLEVBQUUsc0RBQXdCLENBQUM7SUFDckQsQ0FBQywrQ0FBcUIsQ0FBQyxrQkFBa0IsRUFBRSx1RUFBZ0MsQ0FBQztJQUM1RSxDQUFDLCtDQUFxQixDQUFDLFdBQVcsRUFBRSx1RUFBZ0MsQ0FBQztJQUNyRSxDQUFDLCtDQUFxQixDQUFDLFlBQVksRUFBRSx5RUFBaUMsQ0FBQztJQUN2RSxDQUFDLCtDQUFxQixDQUFDLElBQUksRUFBRSx3REFBeUIsQ0FBQztJQUN2RCxDQUFDLCtDQUFxQixDQUFDLElBQUksRUFBRSx3REFBeUIsQ0FBQztJQUN2RCxDQUFDLCtDQUFxQixDQUFDLGNBQWMsRUFBRSw2RUFBbUMsQ0FBQztJQUMzRSxDQUFDLCtDQUFxQixDQUFDLE1BQU0sRUFBRSw0REFBMkIsQ0FBQztJQUMzRCxDQUFDLCtDQUFxQixDQUFDLFFBQVEsRUFBRSxvREFBdUIsQ0FBQztJQUN6RCxDQUFDLCtDQUFxQixDQUFDLElBQUksRUFBRSx3REFBeUIsQ0FBQztJQUN2RCxDQUFDLCtDQUFxQixDQUFDLEtBQUssRUFBRSwwREFBMEIsQ0FBQztJQUN6RCxDQUFDLCtDQUFxQixDQUFDLE1BQU0sRUFBRSw0REFBMkIsQ0FBQztDQUM1RCxDQUFDLENBQUM7QUFFVSxRQUFBLGtCQUFrQixHQUFHO0lBQ2hDLCtDQUFxQixDQUFDLEdBQUc7SUFDekIsK0NBQXFCLENBQUMsT0FBTztJQUM3QiwrQ0FBcUIsQ0FBQyxLQUFLO0lBQzNCLCtDQUFxQixDQUFDLE1BQU07Q0FDN0IsQ0FBQztBQUVGLFNBQWdCLG9CQUFvQixDQUFDLFlBQW1DO0lBQ3RFLElBQUksMEJBQWtCLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUM7UUFDOUMsT0FBTywwREFBMEIsQ0FBQztJQUNwQyxDQUFDO0lBRUQsT0FBTyxnQ0FBd0IsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDcEQsQ0FBQztBQUVELDZDQUE2QztBQUM3QyxNQUFNLGNBQWMsR0FBRyxjQUFjLENBQUM7QUFFdEMsNkJBQTZCO0FBQzdCLE1BQU0sWUFBWSxHQUFHLFlBQVksQ0FBQztBQUVsQzs7Ozs7O0dBTUc7QUFDSCxTQUFnQixPQUFPLENBQUMsSUFBWSxFQUFFLE1BQWdCOztJQUNwRCxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUU1QixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFFbEIsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDdkIsTUFBTSxHQUFHLENBQUEsTUFBQSxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQywwQ0FBRyxDQUFDLENBQUM7WUFDdkMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2xFLENBQUMsQ0FBQyxHQUFHLE1BQU0sTUFBTSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL2thcnBvdi13b3JrL1RydWVOQVMvd2VidWkvc3JjL2FwcC9wYWdlcy9kYXRhLXByb3RlY3Rpb24vY2xvdWRzeW5jL2Nsb3Vkc3luYy13aXphcmQvc3RlcHMvY2xvdWRzeW5jLXByb3ZpZGVyL2Nsb3Vkc3luYy1wcm92aWRlci5jb21tb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHlwZSB9IGZyb20gJ25nLW1vY2tzJztcbmltcG9ydCB7IENsb3VkU3luY1Byb3ZpZGVyTmFtZSB9IGZyb20gJ2FwcC9lbnVtcy9jbG91ZHN5bmMtcHJvdmlkZXIuZW51bSc7XG5pbXBvcnQgeyBBenVyZVByb3ZpZGVyRm9ybUNvbXBvbmVudCB9IGZyb20gJ2FwcC9wYWdlcy9jcmVkZW50aWFscy9iYWNrdXAtY3JlZGVudGlhbHMvY2xvdWQtY3JlZGVudGlhbHMtZm9ybS9wcm92aWRlci1mb3Jtcy9henVyZS1wcm92aWRlci1mb3JtL2F6dXJlLXByb3ZpZGVyLWZvcm0uY29tcG9uZW50JztcbmltcG9ydCB7IEJhY2tibGF6ZUIyUHJvdmlkZXJGb3JtQ29tcG9uZW50IH0gZnJvbSAnYXBwL3BhZ2VzL2NyZWRlbnRpYWxzL2JhY2t1cC1jcmVkZW50aWFscy9jbG91ZC1jcmVkZW50aWFscy1mb3JtL3Byb3ZpZGVyLWZvcm1zL2JhY2tibGF6ZS1iMi1wcm92aWRlci1mb3JtL2JhY2tibGF6ZS1iMi1wcm92aWRlci1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBCYXNlUHJvdmlkZXJGb3JtQ29tcG9uZW50IH0gZnJvbSAnYXBwL3BhZ2VzL2NyZWRlbnRpYWxzL2JhY2t1cC1jcmVkZW50aWFscy9jbG91ZC1jcmVkZW50aWFscy1mb3JtL3Byb3ZpZGVyLWZvcm1zL2Jhc2UtcHJvdmlkZXItZm9ybSc7XG5pbXBvcnQgeyBGdHBQcm92aWRlckZvcm1Db21wb25lbnQgfSBmcm9tICdhcHAvcGFnZXMvY3JlZGVudGlhbHMvYmFja3VwLWNyZWRlbnRpYWxzL2Nsb3VkLWNyZWRlbnRpYWxzLWZvcm0vcHJvdmlkZXItZm9ybXMvZnRwLXByb3ZpZGVyLWZvcm0vZnRwLXByb3ZpZGVyLWZvcm0uY29tcG9uZW50JztcbmltcG9ydCB7IEdvb2dsZUNsb3VkUHJvdmlkZXJGb3JtQ29tcG9uZW50IH0gZnJvbSAnYXBwL3BhZ2VzL2NyZWRlbnRpYWxzL2JhY2t1cC1jcmVkZW50aWFscy9jbG91ZC1jcmVkZW50aWFscy1mb3JtL3Byb3ZpZGVyLWZvcm1zL2dvb2dsZS1jbG91ZC1wcm92aWRlci1mb3JtL2dvb2dsZS1jbG91ZC1wcm92aWRlci1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBHb29nbGVEcml2ZVByb3ZpZGVyRm9ybUNvbXBvbmVudCB9IGZyb20gJ2FwcC9wYWdlcy9jcmVkZW50aWFscy9iYWNrdXAtY3JlZGVudGlhbHMvY2xvdWQtY3JlZGVudGlhbHMtZm9ybS9wcm92aWRlci1mb3Jtcy9nb29nbGUtZHJpdmUtcHJvdmlkZXItZm9ybS9nb29nbGUtZHJpdmUtcHJvdmlkZXItZm9ybS5jb21wb25lbnQnO1xuaW1wb3J0IHsgR29vZ2xlUGhvdG9zUHJvdmlkZXJGb3JtQ29tcG9uZW50IH0gZnJvbSAnYXBwL3BhZ2VzL2NyZWRlbnRpYWxzL2JhY2t1cC1jcmVkZW50aWFscy9jbG91ZC1jcmVkZW50aWFscy1mb3JtL3Byb3ZpZGVyLWZvcm1zL2dvb2dsZS1waG90b3MtcHJvdmlkZXItZm9ybS9nb29nbGUtcGhvdG9zLXByb3ZpZGVyLWZvcm0uY29tcG9uZW50JztcbmltcG9ydCB7IEh0dHBQcm92aWRlckZvcm1Db21wb25lbnQgfSBmcm9tICdhcHAvcGFnZXMvY3JlZGVudGlhbHMvYmFja3VwLWNyZWRlbnRpYWxzL2Nsb3VkLWNyZWRlbnRpYWxzLWZvcm0vcHJvdmlkZXItZm9ybXMvaHR0cC1wcm92aWRlci1mb3JtL2h0dHAtcHJvdmlkZXItZm9ybS5jb21wb25lbnQnO1xuaW1wb3J0IHsgTWVnYVByb3ZpZGVyRm9ybUNvbXBvbmVudCB9IGZyb20gJ2FwcC9wYWdlcy9jcmVkZW50aWFscy9iYWNrdXAtY3JlZGVudGlhbHMvY2xvdWQtY3JlZGVudGlhbHMtZm9ybS9wcm92aWRlci1mb3Jtcy9tZWdhLXByb3ZpZGVyLWZvcm0vbWVnYS1wcm92aWRlci1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBPcGVuc3RhY2tTd2lmdFByb3ZpZGVyRm9ybUNvbXBvbmVudCB9IGZyb20gJ2FwcC9wYWdlcy9jcmVkZW50aWFscy9iYWNrdXAtY3JlZGVudGlhbHMvY2xvdWQtY3JlZGVudGlhbHMtZm9ybS9wcm92aWRlci1mb3Jtcy9vcGVuc3RhY2stc3dpZnQtcHJvdmlkZXItZm9ybS9vcGVuc3RhY2stc3dpZnQtcHJvdmlkZXItZm9ybS5jb21wb25lbnQnO1xuaW1wb3J0IHsgUGNsb3VkUHJvdmlkZXJGb3JtQ29tcG9uZW50IH0gZnJvbSAnYXBwL3BhZ2VzL2NyZWRlbnRpYWxzL2JhY2t1cC1jcmVkZW50aWFscy9jbG91ZC1jcmVkZW50aWFscy1mb3JtL3Byb3ZpZGVyLWZvcm1zL3BjbG91ZC1wcm92aWRlci1mb3JtL3BjbG91ZC1wcm92aWRlci1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTM1Byb3ZpZGVyRm9ybUNvbXBvbmVudCB9IGZyb20gJ2FwcC9wYWdlcy9jcmVkZW50aWFscy9iYWNrdXAtY3JlZGVudGlhbHMvY2xvdWQtY3JlZGVudGlhbHMtZm9ybS9wcm92aWRlci1mb3Jtcy9zMy1wcm92aWRlci1mb3JtL3MzLXByb3ZpZGVyLWZvcm0uY29tcG9uZW50JztcbmltcG9ydCB7IFNmdHBQcm92aWRlckZvcm1Db21wb25lbnQgfSBmcm9tICdhcHAvcGFnZXMvY3JlZGVudGlhbHMvYmFja3VwLWNyZWRlbnRpYWxzL2Nsb3VkLWNyZWRlbnRpYWxzLWZvcm0vcHJvdmlkZXItZm9ybXMvc2Z0cC1wcm92aWRlci1mb3JtL3NmdHAtcHJvdmlkZXItZm9ybS5jb21wb25lbnQnO1xuaW1wb3J0IHsgU3RvcmpQcm92aWRlckZvcm1Db21wb25lbnQgfSBmcm9tICdhcHAvcGFnZXMvY3JlZGVudGlhbHMvYmFja3VwLWNyZWRlbnRpYWxzL2Nsb3VkLWNyZWRlbnRpYWxzLWZvcm0vcHJvdmlkZXItZm9ybXMvc3RvcmotcHJvdmlkZXItZm9ybS9zdG9yai1wcm92aWRlci1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBUb2tlblByb3ZpZGVyRm9ybUNvbXBvbmVudCB9IGZyb20gJ2FwcC9wYWdlcy9jcmVkZW50aWFscy9iYWNrdXAtY3JlZGVudGlhbHMvY2xvdWQtY3JlZGVudGlhbHMtZm9ybS9wcm92aWRlci1mb3Jtcy90b2tlbi1wcm92aWRlci1mb3JtL3Rva2VuLXByb3ZpZGVyLWZvcm0uY29tcG9uZW50JztcbmltcG9ydCB7IFdlYmRhdlByb3ZpZGVyRm9ybUNvbXBvbmVudCB9IGZyb20gJ2FwcC9wYWdlcy9jcmVkZW50aWFscy9iYWNrdXAtY3JlZGVudGlhbHMvY2xvdWQtY3JlZGVudGlhbHMtZm9ybS9wcm92aWRlci1mb3Jtcy93ZWJkYXYtcHJvdmlkZXItZm9ybS93ZWJkYXYtcHJvdmlkZXItZm9ybS5jb21wb25lbnQnO1xuXG5leHBvcnQgY29uc3QgY2xvdWRzeW5jUHJvdmlkZXJGb3JtTWFwID0gbmV3IE1hcDxDbG91ZFN5bmNQcm92aWRlck5hbWUsIFR5cGU8QmFzZVByb3ZpZGVyRm9ybUNvbXBvbmVudD4+KFtcbiAgW0Nsb3VkU3luY1Byb3ZpZGVyTmFtZS5NaWNyb3NvZnRBenVyZSwgQXp1cmVQcm92aWRlckZvcm1Db21wb25lbnRdLFxuICBbQ2xvdWRTeW5jUHJvdmlkZXJOYW1lLkJhY2tibGF6ZUIyLCBCYWNrYmxhemVCMlByb3ZpZGVyRm9ybUNvbXBvbmVudF0sXG4gIFtDbG91ZFN5bmNQcm92aWRlck5hbWUuRnRwLCBGdHBQcm92aWRlckZvcm1Db21wb25lbnRdLFxuICBbQ2xvdWRTeW5jUHJvdmlkZXJOYW1lLkdvb2dsZUNsb3VkU3RvcmFnZSwgR29vZ2xlQ2xvdWRQcm92aWRlckZvcm1Db21wb25lbnRdLFxuICBbQ2xvdWRTeW5jUHJvdmlkZXJOYW1lLkdvb2dsZURyaXZlLCBHb29nbGVEcml2ZVByb3ZpZGVyRm9ybUNvbXBvbmVudF0sXG4gIFtDbG91ZFN5bmNQcm92aWRlck5hbWUuR29vZ2xlUGhvdG9zLCBHb29nbGVQaG90b3NQcm92aWRlckZvcm1Db21wb25lbnRdLFxuICBbQ2xvdWRTeW5jUHJvdmlkZXJOYW1lLkh0dHAsIEh0dHBQcm92aWRlckZvcm1Db21wb25lbnRdLFxuICBbQ2xvdWRTeW5jUHJvdmlkZXJOYW1lLk1lZ2EsIE1lZ2FQcm92aWRlckZvcm1Db21wb25lbnRdLFxuICBbQ2xvdWRTeW5jUHJvdmlkZXJOYW1lLk9wZW5zdGFja1N3aWZ0LCBPcGVuc3RhY2tTd2lmdFByb3ZpZGVyRm9ybUNvbXBvbmVudF0sXG4gIFtDbG91ZFN5bmNQcm92aWRlck5hbWUuUGNsb3VkLCBQY2xvdWRQcm92aWRlckZvcm1Db21wb25lbnRdLFxuICBbQ2xvdWRTeW5jUHJvdmlkZXJOYW1lLkFtYXpvblMzLCBTM1Byb3ZpZGVyRm9ybUNvbXBvbmVudF0sXG4gIFtDbG91ZFN5bmNQcm92aWRlck5hbWUuU2Z0cCwgU2Z0cFByb3ZpZGVyRm9ybUNvbXBvbmVudF0sXG4gIFtDbG91ZFN5bmNQcm92aWRlck5hbWUuU3RvcmosIFN0b3JqUHJvdmlkZXJGb3JtQ29tcG9uZW50XSxcbiAgW0Nsb3VkU3luY1Byb3ZpZGVyTmFtZS5XZWJkYXYsIFdlYmRhdlByb3ZpZGVyRm9ybUNvbXBvbmVudF0sXG5dKTtcblxuZXhwb3J0IGNvbnN0IHRva2VuT25seVByb3ZpZGVycyA9IFtcbiAgQ2xvdWRTeW5jUHJvdmlkZXJOYW1lLkJveCxcbiAgQ2xvdWRTeW5jUHJvdmlkZXJOYW1lLkRyb3Bib3gsXG4gIENsb3VkU3luY1Byb3ZpZGVyTmFtZS5IdWJpYyxcbiAgQ2xvdWRTeW5jUHJvdmlkZXJOYW1lLllhbmRleCxcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm92aWRlckZvcm1DbGFzcyhwcm92aWRlck5hbWU6IENsb3VkU3luY1Byb3ZpZGVyTmFtZSk6IFR5cGU8QmFzZVByb3ZpZGVyRm9ybUNvbXBvbmVudD4ge1xuICBpZiAodG9rZW5Pbmx5UHJvdmlkZXJzLmluY2x1ZGVzKHByb3ZpZGVyTmFtZSkpIHtcbiAgICByZXR1cm4gVG9rZW5Qcm92aWRlckZvcm1Db21wb25lbnQ7XG4gIH1cblxuICByZXR1cm4gY2xvdWRzeW5jUHJvdmlkZXJGb3JtTWFwLmdldChwcm92aWRlck5hbWUpO1xufVxuXG4vLyBXaWxsIHJldHVybiBcIigxKVwiIGZyb20gXCJHb29nbGUgUGhvdG9zICgxKVwiXG5jb25zdCBpbmNyZW1lbnRSZWdleCA9IC9cXHNcXCgoXFxkKylcXCkkLztcblxuLy8gV2lsbCByZXR1cm4gXCIxXCIgZnJvbSBcIigxKVwiXG5jb25zdCBpbmNyZW1lbnRJbnQgPSAvXFxkKyg/PVxcKSQpLztcblxuLyoqXG4gKiBHZXQgYW4gaW5jcmVtZW50ZWQgbmFtZSAoZS5nLiBHb29nbGUgUGhvdG9zICgyKSkgZnJvbSBhIG5hbWUgKGUuZy4gR29vZ2xlIFBob3RvcyksXG4gKiBiYXNlZCBvbiBhbiBhcnJheSBvZiBleGlzdGluZyBuYW1lcy5cbiAqXG4gKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSB0byBpbmNyZW1lbnQuXG4gKiBAcGFyYW0gb3RoZXJzIFRoZSBhcnJheSBvZiBleGlzdGluZyBuYW1lcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5hbWUobmFtZTogc3RyaW5nLCBvdGhlcnM6IHN0cmluZ1tdKTogc3RyaW5nIHtcbiAgY29uc3Qgc2V0ID0gbmV3IFNldChvdGhlcnMpO1xuXG4gIGxldCByZXN1bHQgPSBuYW1lO1xuXG4gIHdoaWxlIChzZXQuaGFzKHJlc3VsdCkpIHtcbiAgICByZXN1bHQgPSBpbmNyZW1lbnRSZWdleC5leGVjKHJlc3VsdCk/LlsxXVxuICAgICAgPyByZXN1bHQucmVwbGFjZShpbmNyZW1lbnRJbnQsICh2YWx1ZSkgPT4gKCt2YWx1ZSArIDEpLnRvU3RyaW5nKCkpXG4gICAgICA6IGAke3Jlc3VsdH0gKDIpYDtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iXSwidmVyc2lvbiI6M30=