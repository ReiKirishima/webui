{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/credentials/backup-credentials/cloud-credentials-form/oauth-provider/oauth-provider.component.ts","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,wCAEuB;AACvB,0CAAkE;AAClE,8CAAsD;AACtD,6EAAmG;AACnG,+GAAqG;AACrG,8FAAyF;AACzF,mHAA8G;AAC9G,0GAAqG;;AAuB9F,IAAM,sBAAsB,GAA5B,MAAM,sBAAsB;IAYjC,IAAI,qBAAqB;QACvB,OAAO,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;IAC7E,CAAC;IAED,YAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;wBAfxB,IAAA,YAAK,GAAU;QAC1B,kBAAa,GAAG,IAAA,aAAM,GAA2B;QAE1D,SAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC5B,SAAS,EAAE,CAAC,EAAE,CAAC;YACf,aAAa,EAAE,CAAC,EAAE,CAAC;SACpB,CAAC,CAAC;QAEM,aAAQ,GAAG,kDAAQ,CAAC;QACpB,cAAS,GAAG,wCAAe,CAAC;IAMW,CAAC;IAEjD,UAAU,CAAC,MAAe;QACxB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAA2B,CAAC,CAAC;QAClD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAA2B,CAAC,CAAC;IACvD,CAAC;;AArBU,wDAAsB;;;;;;;;iCAAtB,sBAAsB;IAdlC,IAAA,gBAAS,EAAC;QACT,QAAQ,EAAE,kCAAkC;QAC5C,oDAA8C;QAE9C,eAAe,EAAE,8BAAuB,CAAC,MAAM;QAC/C,UAAU,EAAE,IAAI;QAChB,OAAO,EAAE;YACP,2CAAmB;YACnB,2BAAmB;YACnB,uCAAiB;YACjB,qCAAgB;YAChB,sBAAe;SAChB;KACF,CAAC;GACW,sBAAsB,CAsBlC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/credentials/backup-credentials/cloud-credentials-form/oauth-provider/oauth-provider.component.ts"],"sourcesContent":["import {\n  ChangeDetectionStrategy, Component, input, output,\n} from '@angular/core';\nimport { FormBuilder, ReactiveFormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { helptextSystemCloudcredentials as helptext } from 'app/helptext/system/cloud-credentials';\nimport { OauthButtonType } from 'app/modules/buttons/oauth-button/interfaces/oauth-button.interface';\nimport { OauthButtonModule } from 'app/modules/buttons/oauth-button/oauth-button.module';\nimport { IxFieldsetComponent } from 'app/modules/forms/ix-forms/components/ix-fieldset/ix-fieldset.component';\nimport { IxInputComponent } from 'app/modules/forms/ix-forms/components/ix-input/ix-input.component';\n\nexport interface OauthProviderData {\n  client_id: string;\n  client_secret: string;\n  token?: string;\n  [key: string]: unknown;\n}\n\n@Component({\n  selector: 'ix-oauth-provider-authentication',\n  templateUrl: './oauth-provider.component.html',\n  styleUrls: ['./oauth-provider.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    IxFieldsetComponent,\n    ReactiveFormsModule,\n    OauthButtonModule,\n    IxInputComponent,\n    TranslateModule,\n  ],\n})\nexport class OauthProviderComponent {\n  readonly oauthUrl = input<string>();\n  readonly authenticated = output<Record<string, unknown>>();\n\n  form = this.formBuilder.group({\n    client_id: [''],\n    client_secret: [''],\n  });\n\n  readonly helptext = helptext;\n  readonly oauthType = OauthButtonType;\n\n  get hasOauthAuthorization(): boolean {\n    return Boolean(this.form.value.client_id && this.form.value.client_secret);\n  }\n\n  constructor(private formBuilder: FormBuilder) { }\n\n  onLoggedIn(result: unknown): void {\n    this.form.patchValue(result as OauthProviderData);\n    this.authenticated.emit(result as OauthProviderData);\n  }\n}\n"],"version":3}