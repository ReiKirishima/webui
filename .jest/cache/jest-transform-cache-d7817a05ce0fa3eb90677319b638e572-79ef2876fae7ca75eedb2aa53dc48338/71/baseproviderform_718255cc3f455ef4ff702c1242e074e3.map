{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/base-provider-form.ts","mappings":";;;AACA,yCAA2C;AAC3C,+BAAuD;AACvD,6EAAmG;AAInG,MAAsB,yBAAyB;IAA/C;QAGY,iBAAY,GAAG,IAAI,sBAAe,CAAgC,EAAE,CAAC,CAAC;QAEvE,aAAQ,GAAG,kDAAQ,CAAC;QAiB7B,mBAAc,GAAG,GAAmD,EAAE;YACpE,OAAO,IAAI,CAAC,YAAY,CAAC;QAC3B,CAAC,CAAC;IACJ,CAAC;IAlBC;;;;;OAKG;IACH,YAAY;QACV,OAAO,IAAA,SAAE,EAAC,EAAE,CAAC,CAAC;IAChB,CAAC;IAED,mBAAmB;QACjB,MAAM,iBAAiB,GAAG,IAAA,kBAAM,EAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,kBAAM,CAAC,CAAC;QAC1D,OAAO,iBAAsB,CAAC;IAChC,CAAC;CAKF;AAzBD,8DAyBC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/credentials/backup-credentials/cloud-credentials-form/provider-forms/base-provider-form.ts"],"sourcesContent":["import { FormGroup } from '@angular/forms';\nimport { isNull, omitBy } from 'lodash-es';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\nimport { helptextSystemCloudcredentials as helptext } from 'app/helptext/system/cloud-credentials';\nimport { CloudCredential } from 'app/interfaces/cloud-sync-task.interface';\nimport { CloudSyncProvider } from 'app/interfaces/cloudsync-provider.interface';\n\nexport abstract class BaseProviderFormComponent<T = CloudCredential['attributes']> {\n  provider: CloudSyncProvider;\n  abstract readonly form: FormGroup;\n  protected formPatcher$ = new BehaviorSubject<CloudCredential['attributes']>({});\n\n  readonly helptext = helptext;\n\n  /**\n   * Override in child class to do async data preparation.\n   *\n   * TODO: Only exists to allow for 'Generate New' private key option in SFTP form.\n   * TODO: Consider making this functionality part of the private key select.\n   */\n  beforeSubmit(): Observable<unknown> {\n    return of([]);\n  }\n\n  getSubmitAttributes(): T {\n    const nonNullAttributes = omitBy(this.form.value, isNull);\n    return nonNullAttributes as T;\n  }\n\n  getFormSetter$ = (): BehaviorSubject<CloudCredential['attributes']> => {\n    return this.formPatcher$;\n  };\n}\n"],"version":3}