{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/system/advanced/cron/cron-delete-dialog/cron-delete-dialog.component.ts","mappings":";;;;;;;;;AAAA,sDAAuD;AACvD,wCAEuB;AACvB,qDAAqD;AACrD,qDAEkC;AAClC,0FAAsE;AACtE,yDAAqE;AACrE,8CAAwE;AACxE,qGAAgG;AAChG,mDAA2C;AAC3C,sHAAiH;AACjH,8EAAyE;AACzE,qFAAiF;AACjF,uEAAmE;AACnE,0GAA4F;AAC5F,8EAAyE;AACzE,wDAA2D;AAqBpD,IAAM,yBAAyB,GAA/B,MAAM,yBAAyB;IAKpC,YACU,MAAwB,EACxB,EAAoB,EACpB,QAAyB,EACzB,SAA2B,EAC3B,SAAkD,EAC1B,OAAmB,EAC3C,YAAiC;QANjC,WAAM,GAAN,MAAM,CAAkB;QACxB,OAAE,GAAF,EAAE,CAAkB;QACpB,aAAQ,GAAR,QAAQ,CAAiB;QACzB,cAAS,GAAT,SAAS,CAAkB;QAC3B,cAAS,GAAT,SAAS,CAAyC;QAC1B,YAAO,GAAP,OAAO,CAAY;QAC3C,iBAAY,GAAZ,YAAY,CAAqB;QAXlC,kBAAa,GAAG,CAAC,gBAAI,CAAC,SAAS,CAAC,CAAC;QAEjC,kBAAa,GAAG,IAAA,qCAAC,EAAC,0DAA0D,CAAC,CAAC;IAUnF,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;aAC9C,IAAI,CACH,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,EACxB,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAC9B,IAAA,8BAAc,EAAC,IAAI,CAAC,CACrB;aACA,SAAS,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACP,CAAC;;AA1BU,8DAAyB;;;;;;;qEAWjC,aAAM,SAAC,wBAAe;;;oCAXd,yBAAyB;IAnBrC,IAAA,4BAAY,GAAE;IACd,IAAA,gBAAS,EAAC;QACT,QAAQ,EAAE,uBAAuB;QACjC,wDAAkD;QAClD,eAAe,EAAE,8BAAuB,CAAC,MAAM;QAC/C,UAAU,EAAE,IAAI;QAChB,OAAO,EAAE;YACP,uBAAc;YACd,yBAAa;YACb,yBAAgB;YAChB,6CAAoB;YACpB,yBAAgB;YAChB,kBAAS;YACT,8BAAa;YACb,uBAAc;YACd,iDAAsB;YACtB,sBAAe;SAChB;KACF,CAAC;GACW,yBAAyB,CA2BrC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/system/advanced/cron/cron-delete-dialog/cron-delete-dialog.component.ts"],"sourcesContent":["import { CdkScrollable } from '@angular/cdk/scrolling';\nimport {\n  ChangeDetectionStrategy, Component, Inject,\n} from '@angular/core';\nimport { MatButton } from '@angular/material/button';\nimport {\n  MAT_DIALOG_DATA, MatDialogRef, MatDialogTitle, MatDialogContent, MatDialogActions, MatDialogClose,\n} from '@angular/material/dialog';\nimport { marker as T } from '@biesbjerg/ngx-translate-extract-marker';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { TranslateService, TranslateModule } from '@ngx-translate/core';\nimport { RequiresRolesDirective } from 'app/directives/requires-roles/requires-roles.directive';\nimport { Role } from 'app/enums/role.enum';\nimport { FormActionsComponent } from 'app/modules/forms/ix-forms/components/form-actions/form-actions.component';\nimport { AppLoaderService } from 'app/modules/loader/app-loader.service';\nimport { SnackbarService } from 'app/modules/snackbar/services/snackbar.service';\nimport { TestDirective } from 'app/modules/test-id/test.directive';\nimport { CronjobRow } from 'app/pages/system/advanced/cron/cron-list/cronjob-row.interface';\nimport { ErrorHandlerService } from 'app/services/error-handler.service';\nimport { WebSocketService } from 'app/services/ws.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'ix-cron-delete-dialog',\n  templateUrl: './cron-delete-dialog.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    MatDialogTitle,\n    CdkScrollable,\n    MatDialogContent,\n    FormActionsComponent,\n    MatDialogActions,\n    MatButton,\n    TestDirective,\n    MatDialogClose,\n    RequiresRolesDirective,\n    TranslateModule,\n  ],\n})\nexport class CronDeleteDialogComponent {\n  readonly requiredRoles = [Role.FullAdmin];\n\n  readonly deleteMessage = T('Are you sure you want to delete cronjob <b>\"{name}\"</b>?');\n\n  constructor(\n    private loader: AppLoaderService,\n    private ws: WebSocketService,\n    private snackbar: SnackbarService,\n    private translate: TranslateService,\n    private dialogRef: MatDialogRef<CronDeleteDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public cronjob: CronjobRow,\n    private errorHandler: ErrorHandlerService,\n  ) { }\n\n  onDelete(): void {\n    this.ws.call('cronjob.delete', [this.cronjob.id])\n      .pipe(\n        this.loader.withLoader(),\n        this.errorHandler.catchError(),\n        untilDestroyed(this),\n      )\n      .subscribe(() => {\n        this.snackbar.success(this.translate.instant('Cronjob deleted'));\n        this.dialogRef.close(true);\n      });\n  }\n}\n"],"version":3}